<!DOCTYPE html>
<html>
<head>
    <title>给娜娜的表白</title>
    <style>
        body {
            margin: 0;
            overflow: hidden;
            background: #000;
        }
        canvas {
            display: block;
        }
        #message {
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            color: #fff;
            text-align: center;
            font-family: 'Microsoft YaHei', sans-serif;
            z-index: 100;
            pointer-events: none;
        }
    </style>
</head>
<body>
    <canvas id="canvas"></canvas>
    <div id="message">
        <h1 id="name" style="font-size: 3em; margin-bottom: 20px;">娜娜</h1>
        <p id="poem" style="font-size: 1.5em;"></p >
    </div>

    <script>
        // 爱心粒子动画
        class HeartParticle {
            constructor(canvas) {
                this.canvas = canvas;
                this.ctx = canvas.getContext('2d');
                this.particles = [];
                this.animationFrame = 0;
                
                this.resize();
                window.addEventListener('resize', this.resize.bind(this));
            }

            resize() {
                this.width = this.canvas.width = window.innerWidth;
                this.height = this.canvas.height = window.innerHeight;
            }

            createParticles(x, y) {
                for (let i = 0; i < 50; i++) {
                    this.particles.push({
                        x,
                        y,
                        vx: (Math.random() - 0.5) * 5,
                        vy: (Math.random() - 0.5) * 5,
                        life: 100,
                        color: `hsl(${Math.random() * 360}, 100%, 50%)`
                    });
                }
            }

            drawHeart() {
                const t = Date.now() / 1000;
                const centerX = this.width / 2;
                const centerY = this.height / 2;
                
                for (let i = 0; i < 200; i++) {
                    const angle = (i / 50) * Math.PI * 2 + t;
                    const x = 16 * Math.pow(Math.sin(angle), 3);
                    const y = -(13 * Math.cos(angle) - 5 * Math.cos(2*angle) - 2*Math.cos(3*angle) - Math.cos(4*angle));
                    
                    this.particles.push({
                        x: centerX + x * 15,
                        y: centerY + y * 15,
                        vx: 0,
                        vy: -Math.random() * 2,
                        life: 100,
                        color: `hsl(${t * 50 % 360}, 70%, 60%)`
                    });
                }
            }

            animate() {
                this.ctx.fillStyle = 'rgba(0, 0, 0, 0.1)';
                this.ctx.fillRect(0, 0, this.width, this.height);

                this.particles.forEach((p, i) => {
                    p.x += p.vx;
                    p.y += p.vy;
                    p.life -= 1;

                    this.ctx.beginPath();
                    this.ctx.arc(p.x, p.y, 2, 0, Math.PI * 2);
                    this.ctx.fillStyle = p.color;
                    this.ctx.fill();

                    if (p.life <= 0) {
                        this.particles.splice(i, 1);
                    }
                });

                if (Date.now() % 1000 < 50) {
                    this.drawHeart();
                }

                this.animationFrame = requestAnimationFrame(this.animate.bind(this));
            }
        }

        // 文字动画
        function textAnimation() {
            const poem = [
                "星河滚烫，你是人间理想",
                "皓月清凉，你是人间曙光",
                "人海冷漠，你是人间炽热",
                "万世浮沉，你是人间归途",
                "众人平庸，你是人间星光",
                "世事无常，你是人间琳琅"
            ];
            
            let index = 0;
            
            function typeWriter() {
                document.getElementById('poem').textContent = poem[index];
                index = (index + 1) % poem.length;
                setTimeout(typeWriter, 2000);
            }
            
            typeWriter();
        }

        // 启动动画
        window.onload = () => {
            const canvas = new HeartParticle(document.getElementById('canvas'));
            canvas.animate();
            textAnimation();
        };
    </script>
</body>
</html>